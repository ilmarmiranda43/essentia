<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <title>Exportar / Editar</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" href="./assets/style.css" />
  </head>
  <body>
    <header class="topbar">
      <h1>Essentia</h1>
      <nav>
        <a href="index.html">Home</a>
        <a href="upload.html">Upload</a>
        <a href="export.html" class="active">Exportar/Editar</a>
        <a href="reports.html">Relatórios</a>
      </nav>
    </header>

    <main class="container">
      <h2>Arquivos disponíveis</h2>
      <table id="filesTable" class="table">
        <thead>
          <tr>
            <th>Nome</th>
            <th>Tamanho</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody>
          <!-- preenchido via JS -->
        </tbody>
      </table>
    </main>

    <script>
      const API_FILES = 'https://localhost:7228/api/files';

      async function loadFiles() {
        const resp = await fetch(API_FILES);
        const data = await resp.json(); // supondo lista [{name, size, url}]
        const tbody = document.querySelector('#filesTable tbody');
        tbody.innerHTML = '';
        data.forEach((f) => {
          const tr = document.createElement('tr');
          tr.innerHTML = `
          <td>${f.name}</td>
          <td>${f.size ?? ''}</td>
          <td>
            <a href="${f.url}" target="_blank">Baixar</a>
            <!-- você pode colocar um botão editar que chama outro endpoint -->
          </td>
        `;
          tbody.appendChild(tr);
        });
      }

      loadFiles();
    </script>
  </body>
</html>
